{"version":3,"file":"static/js/8447.63c13d7f.chunk.js","mappings":"2MAGA,MAqBA,EArBuBA,IAEnBC,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEC,EAAAA,EAAAA,MAAA,OACEC,UAAS,IAAAC,OACPN,EAAMO,UAAY,SAAW,KAAI,iEAC6BJ,SAAA,EAEhEF,EAAAA,EAAAA,KAAA,OAAKI,UAAU,sEAAqEF,UAClFF,EAAAA,EAAAA,KAAA,MAAII,UAAU,yCAAwCF,SAAEH,EAAMQ,WAEhEP,EAAAA,EAAAA,KAAA,OAAKI,UAAU,uBAAsBF,SAAEH,EAAMS,W,yHC+DrD,QAtEA,WACE,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,KAC9BC,EAAQC,IAAaF,EAAAA,EAAAA,UAAS,IAC/BG,GAAWC,EAAAA,EAAAA,MA4CjB,OACEZ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,gEAA+DF,SAAA,EAC5EC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQF,SAAA,EACrBF,EAAAA,EAAAA,KAAA,SAAOgB,QAAQ,aAAaZ,UAAU,UAASF,SAAC,+BAGhDF,EAAAA,EAAAA,KAAA,SACEI,UAAU,+BACVa,GAAG,aACHC,KAAK,OACLC,OAAO,cAGXnB,EAAAA,EAAAA,KAAA,UACEI,UAAU,iGACVgB,QAzDN,SAAsBC,GACpB,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,mBAAmBH,EAAEI,OAAOC,MAAM,IACzCJ,EAAOK,OAAUN,IACf,MAAMO,EAAOP,EAAEI,OAAOI,OAChBC,EAAYC,EAAAA,GAAUH,EAAM,CAAEV,KAAM,WAC1C,IACIc,EADAC,EAAc,CAAC,EAEnB,IAAK,IAAIC,EAAQ,EAAGA,EAAQJ,EAAUK,WAAWC,OAAQF,IAAS,CAChE,MAAMG,EAAYP,EAAUK,WAAWD,GACjCI,EAAYR,EAAUS,OAAOF,GAC7BG,EAAYT,EAAAA,GAAWU,cAAcH,GAC3CL,EAAYI,GAAaG,CAE3B,CACAR,EAAYC,EAAYS,KAExBhC,EAAUuB,EAAYS,MAEtBC,EAAAA,EACGC,KAAK,gEAAiE,CAAEZ,cACxEa,MAAMC,IACLC,QAAQC,IAAIF,EAAIlB,MAChBd,GACEmC,EAAAA,EAAAA,IAAgB,CACd1C,MAAO,yBACP2C,QAAS,0DAEZ,IAEFC,OAAOC,GACNtC,GACEmC,EAAAA,EAAAA,IAAgB,CACd1C,MAAO,gBACPW,KAAM,QACNgC,QAAS,mCAGd,CAEP,EAiB4BhD,SACvB,eAKP,ECxBA,EA/CqBmD,KAuCjBrD,EAAAA,EAAAA,KAAAC,EAAAA,SAAA,CAAAC,UACEF,EAAAA,EAAAA,KAAA,OAAAE,UACEF,EAAAA,EAAAA,KAACsD,EAAAA,EAAa,CAAC/C,MAxCP,mBAwCqBC,MAAMR,EAAAA,EAAAA,KAACuD,EAAQ,S","sources":["components/CustomSection.jsx","views/administration/ImportHeures/ImportHS.jsx","views/administration/ImportHeures/ImportHeures.jsx"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst CustomSection = (props) => {\n  return (\n    <>\n      <div\n        className={` ${\n          props.fullWidth ? 'w-full' : null\n        } inline-flex flex-col border-b border-customRed-900 shadow-lg`}\n      >\n        <div className=\"flex flex-row flex-wrap gap-4 px-4 py-2 text-white bg-customRed-900\">\n          <h2 className=\"text-2xl font-semibold mb-2 capitalize\">{props.title}</h2>\n        </div>\n        <div className=\"bg-white flex w-full\">{props.body}</div>\n      </div>\n    </>\n  )\n}\nCustomSection.propTypes = {\n  title: PropTypes.string,\n  body: PropTypes.any,\n  fullWidth: PropTypes.bool,\n}\nexport default CustomSection\n","import React from 'react'\nimport * as XLSX from 'xlsx'\nimport { useState } from 'react'\nimport axios from 'axios'\nimport { useDispatch } from 'react-redux'\nimport { addNotification } from 'src/redux/notificationStack/notificationStackReducer'\n\nfunction ImportHS() {\n  const [heures, setHeures] = useState([])\n  const [search, setSearch] = useState('')\n  const dispatch = useDispatch()\n\n  function handleUpload(e) {\n    const reader = new FileReader()\n    reader.readAsBinaryString(e.target.files[0])\n    reader.onload = (e) => {\n      const data = e.target.result\n      const workbrook = XLSX.read(data, { type: 'binary' })\n      var mySheetData = {}\n      var heuressup = {}\n      for (let index = 0; index < workbrook.SheetNames.length; index++) {\n        const sheetName = workbrook.SheetNames[index]\n        const workSheet = workbrook.Sheets[sheetName]\n        const parseData = XLSX.utils.sheet_to_json(workSheet)\n        mySheetData[sheetName] = parseData\n        //console.log(sheetName);\n      }\n      heuressup = mySheetData.test\n      //console.log(heuressup);\n      setHeures(mySheetData.test)\n\n      axios\n        .post('https://ls.migthy-free.com/public/importheuressupplementaires', { heuressup })\n        .then((res) => {\n          console.log(res.data)\n          dispatch(\n            addNotification({\n              title: 'Importation des heures',\n              message: 'Les heures ont été importées avec succès.',\n            }),\n          )\n        })\n        .catch((err) =>\n          dispatch(\n            addNotification({\n              title: 'Import heures',\n              type: 'error',\n              message: \"Erreur lors de l'importation\",\n            }),\n          ),\n        )\n    }\n  }\n\n  return (\n    <div className=\"p-4 flex flex-col md:flex-row items-center md:items-end gap-2\">\n      <div className=\"import\">\n        <label htmlFor=\"formFileSm\" className=\"text-lg\">\n          Importer une liste des HS\n        </label>\n        <input\n          className=\"form-control form-control-sm\"\n          id=\"formFileSm\"\n          type=\"file\"\n          accept=\".xlsx\"\n        />\n      </div>\n      <button\n        className=\"bg-customRed-900 text-white hover:bg-customRed-200 py-2 px-3 hover:text-slate-200 mt-2 md:mt-0\"\n        onClick={handleUpload}\n      >\n        Importer\n      </button>\n    </div>\n  )\n}\n\nexport default ImportHS\n","import React from 'react'\nimport CustomSection from 'src/components/CustomSection'\nimport ImportHS from './ImportHS'\n\nconst ImportHeures = () => {\n  const title = 'Liste des Heures'\n\n  const Body = () => {\n    const handleReset = (ev) => {\n      ev.preventDefault()\n    }\n\n    const handleSubmit = (ev) => {\n      ev.preventDefault()\n    }\n\n    return (\n      <div className=\"flex\">\n        <form action=\"\" method=\"post\" onSubmit={handleSubmit}>\n          <div className=\"custom-file m-3\">\n            <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" accept=\".csv\" />\n            <label className=\"custom-file-label hidden \" htmlFor=\"customFile\">\n              Choisir un fichier\n            </label>\n          </div>\n          <hr />\n          <div className=\"d-flex flex-wrap gap-2 justify-end pb-2 m-3\">\n            <button type=\"reset\" className=\"btn btn-secondary\" onClick={handleReset}>\n              Corriger\n            </button>\n            <button\n              type=\"submit\"\n              className=\"bg-customRed-900 text-white hover:bg-customRed-200 py-2 px-3 hover:text-slate-200\"\n            >\n              Enregistrer\n            </button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <div>\n        <CustomSection title={title} body={<ImportHS />} />\n      </div>\n    </>\n  )\n}\n\nexport default ImportHeures\n"],"names":["props","_jsx","_Fragment","children","_jsxs","className","concat","fullWidth","title","body","heures","setHeures","useState","search","setSearch","dispatch","useDispatch","htmlFor","id","type","accept","onClick","e","reader","FileReader","readAsBinaryString","target","files","onload","data","result","workbrook","XLSX","heuressup","mySheetData","index","SheetNames","length","sheetName","workSheet","Sheets","parseData","sheet_to_json","test","axios","post","then","res","console","log","addNotification","message","catch","err","ImportHeures","CustomSection","ImportHS"],"sourceRoot":""}